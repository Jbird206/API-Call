<html>
  <head>
    <link href="styles.css" rel="stylesheet" type="text/css">
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript" src="weather-interface.js"></script> -->
    <title>Weather</title>
  </head>
  <body>
    <div class="container">
        <div class="container2">
      <h1>Get Weather Conditions From Any Location</h1>
    </div>
    <br>
    <hr>
      <label for="location">Enter a city:</label>
      <input id="location" type="text">
      <button  id="weatherLocation">Get Current Temperature and Humidity</button>
      <div class="errors"></div>
      <div class="container3">
      <div class="showHumidity"></div>
      <div class="showTemp"></div>
     </div>
    </div>
    <br>
    <hr>
    <div class="container">
      <div class="container22">
        <h1>Search For a GIF</h1>
    </div>
    <hr>
    <form>
      <label for="search">Search</label>
      <input id="search" type="text" />
      <button id="btnSearch">Go</button>
    </form>
    <div class="out"></div>
  </main>
  <script>
    let APIKEY = "nydT33tIYBrmuNCtjIfmyzK5ITms8juz";
    // you will need to get your own API KEY
    // https://developers.giphy.com/dashboard/
    document.addEventListener("DOMContentLoaded", init);
    function init() {
      document.getElementById("btnSearch").addEventListener("click", ev => {
        ev.preventDefault(); //to stop the page reload
        let url = `https://api.giphy.com/v1/gifs/search?api_key=nydT33tIYBrmuNCtjIfmyzK5ITms8juz&limit=1&q=`;
        let str = document.getElementById("search").value.trim();
        url = url.concat(str);
        console.log(url);
        fetch(url)
          .then(response => response.json())
          .then(content => {
            //  data, pagination, meta
            console.log(content.data);
            console.log("META", content.meta);
            let fig = document.createElement("figure");
            let img = document.createElement("img");
            let fc = document.createElement("figcaption");
            img.src = content.data[0].images.downsized.url;
            img.alt = content.data[0].title;
            fc.textContent = content.data[0].title;
            fig.appendChild(img);
            fig.appendChild(fc);
            let out = document.querySelector(".out");
            out.insertAdjacentElement("afterbegin", fig);
            document.querySelector("#search").value = "";
          })
          .catch(err => {
            console.error(err);
          });
      });
    }
  </script>
  </body>
</html>
